(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[121],{1093:function(e,t,n){"use strict";var a=n(5),c=n(31),s=n(47),o=n(116),r=Object(a.a)([c.a.selectCurrentTenant,c.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(o.a.values.mouvementRead)})),i=Object(a.a)([c.a.selectCurrentTenant,c.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(o.a.values.mouvementEdit)})),l=Object(a.a)([c.a.selectCurrentTenant,c.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(o.a.values.mouvementCreate)})),u=Object(a.a)([c.a.selectCurrentTenant,c.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(o.a.values.mouvementImport)})),b={selectPermissionToRead:r,selectPermissionToEdit:i,selectPermissionToCreate:l,selectPermissionToDestroy:Object(a.a)([c.a.selectCurrentTenant,c.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(o.a.values.mouvementDestroy)})),selectPermissionToImport:u};t.a=b},1736:function(e,t,n){"use strict";n.r(t);var a=n(22),c=n(1129),s=n(950),o=n(951),r=n(1697),i=n(2),l=n(38),u=n(3),b=n(41),j=n(1093),d=n(1145),O=n.n(d),p=n(86),h=n(14),f=function(e){var t={onClick:function(e,t){},title:{display:!0,text:Object(u.d)("common.contenuTheme")},tooltips:{mode:"label"},elements:{line:{fill:!1}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},n=Object(i.useState)([0]),c=Object(a.a)(n,2),s=c[0],o=c[1],r=Object(i.useState)([0]),l=Object(a.a)(r,2),b=l[0],j=l[1],O=Object(i.useState)([""]),f=Object(a.a)(O,2),m=f[0],x=f[1],g=[0],v=[0],C=[""];Object(i.useEffect)((function(){p.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(e){C.push(e.titre),v.push(e.publications.length)})),C.splice(0,1),v.splice(0,1),x(C),j(v))})),p.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(e){g.push(e.evenements.length)})),g.splice(0,1),o(g))}))}),[]);var y={labels:m,datasets:[{type:"bar",label:Object(u.d)("entities.publication.menu"),backgroundColor:"rgba(197,029,052, 0.2)",borderColor:"rgba(197,029,052)",data:b,borderWidth:2,fill:!1},{type:"bar",label:Object(u.d)("entities.evenement.menu"),backgroundColor:"rgba(014,041,075, 0.2)",borderColor:"rgba(014,041,075)",data:s,borderWidth:2,fill:!1}]};return Object(h.jsx)(d.Bar,{data:y,options:t})},m=n(92),x=function(e){var t=Object(i.useState)([0]),n=Object(a.a)(t,2),c=n[0],s=n[1],o=Object(i.useState)([""]),r=Object(a.a)(o,2),l=r[0],b=r[1],j=Object(i.useState)([""]),O=Object(a.a)(j,2),p=O[0],f=O[1],x=[0],g=[""],v=[""],C=["#845EC2","#2C73D2","#0081CF","#0089BA","#008E9B","#008F7A"];Object(i.useEffect)((function(){m.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(t){g.push(t.title),x.push(t.publications.length);for(var n=0;n<=e.count;n++)C.map((function(e){return v.push(e)}))})),g.splice(0,1),x.splice(0,1),v.splice(0,1),b(g),s(x),f(v))}))}),[]);var y={responsive:!0,title:{display:!0,text:Object(u.d)("common.publicationTheme")},tooltips:{mode:"label"},elements:{line:{fill:!1}}},S={labels:l,datasets:[{data:c,backgroundColor:p,hoverBackgroundColor:p}]};return Object(h.jsx)(d.Doughnut,{data:S,options:y})},g=n(96),v=n(98),C=n(97),y=function(e){var t=Object(i.useState)(0),n=Object(a.a)(t,2),c=n[0],s=n[1],o=Object(i.useState)(0),r=Object(a.a)(o,2),l=r[0],u=r[1],b=Object(i.useState)(0),j=Object(a.a)(b,2),d=j[0],p=j[1];Object(i.useEffect)((function(){C.a.list("","","","").then((function(e){s(e.count)})),g.a.list("","","","").then((function(e){u(e.count)})),v.a.list("","","","").then((function(e){p(e.count)}))}),[]);var f={labels:["DemandeAppui","Publication","Evenement"],datasets:[{label:"Nombre d`entit\xe9s",barPercentage:.5,backgroundColor:["#AD4E47","#6C1B06","#C84462"],borderWidth:1,hoverBackgroundColor:["#AD4E47","#6C1B06","#C84462"],data:[c,l,d]}]};return Object(h.jsx)(O.a,{type:"bar",data:f,options:{legend:{display:!0},scales:{xAxes:[{display:!0}],yAxes:[{display:!0,ticks:{beginAtZero:!0}}]}}})},S=n(90),E=function(e){var t=Object(i.useState)([0]),n=Object(a.a)(t,2),c=n[0],s=n[1],o=Object(i.useState)([""]),r=Object(a.a)(o,2),l=r[0],b=r[1],j=Object(i.useState)([""]),O=Object(a.a)(j,2),p=O[0],f=O[1],m=[""],x=[0],g=[""],v=["#845EC2","#2C73D2","#0081CF","#0089BA","#008E9B","#008F7A"];Object(i.useEffect)((function(){S.a.list("","","","").then((function(e){e.count>0&&(e.rows.forEach((function(t){m.push(Object(u.d)("entities.mouvement.enumerators.sujet."+t.sujet)),x.push(t.actions.length);for(var n=0;n<=e.count;n++)v.map((function(e){return g.push(e)}))})),x.splice(0,1),m.splice(0,1),g.splice(0,1),b(m),s(x),f(g))}))}),[]);var C={responsive:!0,title:{display:!0,text:Object(u.d)("common.mouvement")},tooltips:{mode:"label"},elements:{line:{fill:!1}}},y={labels:l,datasets:[{data:c,backgroundColor:p,hoverBackgroundColor:p}]};return Object(h.jsx)(d.Doughnut,{data:y,options:C})},A=n(91),k=function(e){var t=Object(i.useState)([0]),n=Object(a.a)(t,2),c=n[0],s=n[1],o=Object(i.useState)([""]),r=Object(a.a)(o,2),l=r[0],b=r[1],j=Object(i.useState)([""]),O=Object(a.a)(j,2),p=O[0],f=O[1],m=[0],x=[""],g=["#264653","#2A9D8F","#E9C46A","#F4A261","#E76F51"],v=[""];Object(i.useEffect)((function(){A.a.list("","","","").then((function(e){if(e.count>0){e.rows.forEach((function(e){x.push(e.title),m.push(e.evenements.length)})),x.splice(0,1),m.splice(0,1);for(var t=0;t<=e.count;t++)g.map((function(e){return v.push(e)}));v.splice(0,1),b(x),s(m),f(v)}}))}),[]);var C={responsive:!0,title:{display:!0,text:Object(u.d)("common.evenementTheme")},tooltips:{mode:"label"},elements:{line:{fill:!1}}},y={labels:l,datasets:[{data:c,backgroundColor:p,hoverBackgroundColor:p}]};return Object(h.jsx)(d.Doughnut,{data:y,options:C})},T=n(100),B=n(99),w=n(93),D=function(e){var t=Object(i.useState)(0),n=Object(a.a)(t,2),c=n[0],s=n[1],o=Object(i.useState)(0),r=Object(a.a)(o,2),l=r[0],u=r[1],b=Object(i.useState)(0),j=Object(a.a)(b,2),d=j[0],p=j[1];Object(i.useEffect)((function(){B.a.list("","","","").then((function(e){u(e.count)})),w.a.list("","","","").then((function(e){p(e.count)})),T.a.list("","","","").then((function(e){s(e.count)}))}),[]);var f={labels:["Suicide","Manifestation","Violence"],datasets:[{label:"Nombre d`entit\xe9s",barPercentage:.5,backgroundColor:["#AD4E47","#6C1B06","#C84462"],borderWidth:1,hoverBackgroundColor:["#AD4E47","#6C1B06","#C84462"],data:[l,d,c]}]};return Object(h.jsx)(O.a,{type:"bar",data:f,options:{legend:{display:!0},scales:{xAxes:[{display:!0}],yAxes:[{display:!0,ticks:{beginAtZero:!0}}]}}})},F=n(880),P=n(929);t.default=function(e){var t=c.a.TabPane,n=Object(l.e)(j.a.selectPermissionToRead),d=Object(i.useState)(!1),O=Object(a.a)(d,2),p=O[0],m=O[1],g=Object(i.useState)(!0),v=Object(a.a)(g,2),C=v[0],S=v[1];return Object(i.useEffect)((function(){b.a.fetchMe().then((function(e){e.tenants[0].roles.includes("admin_OST")&&m(!0),S(!1)}))}),[]),Object(h.jsx)(h.Fragment,{children:C?Object(h.jsx)(P.a,{}):Object(h.jsx)(h.Fragment,{children:p?Object(h.jsx)(F.a,{children:Object(h.jsxs)(s.a,{gutter:24,children:[Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(E,{})})}),Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(D,{})})})]})}):Object(h.jsxs)(c.a,{defaultActiveKey:"1",onChange:function(e){},children:[Object(h.jsx)(t,{tab:Object(u.d)("common.statistiques"),children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(s.a,{gutter:24,children:[Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(x,{})})}),Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(k,{})})})]}),Object(h.jsxs)(s.a,{style:{marginTop:"8px"},gutter:24,children:[Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(y,{})})}),Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(f,{})})})]})]})},"1"),n?Object(h.jsx)(t,{tab:Object(u.d)("common.publicationOST"),children:Object(h.jsxs)(s.a,{gutter:24,children:[Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(E,{})})}),Object(h.jsx)(o.a,{span:12,children:Object(h.jsx)(r.a,{bodyStyle:{padding:4},children:Object(h.jsx)(D,{})})})]})},"2"):null,Object(h.jsx)(t,{tab:Object(u.d)("common.infographies")},"3"),Object(h.jsx)(t,{tab:Object(u.d)("common.cartesInteractives")},"4")]})})})}},880:function(e,t,n){"use strict";var a,c=n(217),s=n(218).a.div(a||(a=Object(c.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"])));t.a=s},929:function(e,t,n){"use strict";var a=n(894),c=(n(2),n(14));t.a=function(e){return Object(c.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(c.jsx)(a.a,{})})}}}]);